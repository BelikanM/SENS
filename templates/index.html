<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <title>Analyse de Courriers</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #f4f4f4; }
        .container { max-width: 700px; margin: 60px auto; padding: 25px; background-color: white; border-radius: 10px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); }
        input[type="file"], input[type="submit"] { margin-top: 10px; padding: 8px 12px; width: calc(100% - 26px); }
        .result { background: #f9f9f9; padding: 15px; border: 1px solid #e4e4e4; margin-top: 15px; }
        h2 { margin-bottom: 10px; }
    </style>
</head>

<body>
    <div class="container">
        <h1>Analyse de Courriers</h1>
        <form action="/" method="post" enctype="multipart/form-data">
            <div>
                <label for="file">Uploader un fichier PDF (1 à 3 pages) :</label>
                <input type="file" name="file" required>
            </div>
            <input type="submit" value="Analyser">
        </form>

        {% if analysis %}
        <div class="result">
            <h2>Résultats de l'Analyse :</h2>
            <p>{{ analysis }}</p>
            <h2>Résumé du Document :</h2>
            <p>{{ summary }}</p>
            <h2>Entités Nommées :</h2>
            <ul>
                {% for entity in entities %}
                <li>{{ entity[0] }} ({{ entity[1] }})</li>
                {% endfor %}
            </ul>
            <h2>Tâches Identifiées :</h2>
            <p>{{ tasks }}</p>
            <h2>Suggestions de Réponse :</h2>
            <p>{{ response_suggestions }}</p>
            <h2>Évaluation de Complexité :</h2>
            <p>{{ complexity_evaluation }}</p>
            <h2>Intentions Détectées :</h2>
            <ul>
                {% for intention, score in intentions.items() %}
                <li>{{ intention }}: {{ score }}</li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}
    </div>
</body>

</html>

